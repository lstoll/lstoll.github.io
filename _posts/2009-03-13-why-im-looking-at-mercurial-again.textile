---
layout: post
title: Why I'm looking at Mercurial again.
---

h1. {{ page.title }}

p(meta). 13/03/2009 - Islington, London, UK.

Once upon a time, I was a mercurial user. I jumped the boat from svn/cvs to a dcvs pretty early - it just made sense to me. However along came github and the great ruby git usage goldrush, so I found myself moving everything to git, and being pretty happy there. I got into the lightweight local branching pretty quickly, and all the cool ruby kids were using it.

However, there was a few things that bugged me. Mostly Windows support, and IDE support. Git on windows is getting better, but still, the fact that you pretty much have to fire up a bash shell and run everything from there is annoying, and difficult for non-programmers. And it's IDE support is poor. I don't just use TextMate for everything, I also do Java and C++ work (in Netbeans), and a little .Net in Visual Studio. The fact that I still had to jump to a command line to do things was annoying. Mercurial seems to be way ahead on this front, with  support in Netbeans included by default, and a decent Visual Studio plugin as well. It's nice to finally be able to keep track of the status in the project bar, and easily manage commits.

On the functionality front, the <a href="http://www.selenic.com/mercurial/wiki/index.cgi/BookmarksExtension">bookmarks</a> extension is now included by default in the distribution - this gives me the one thing I was missing (lightweight, disposable branches) in mercurial. 

The last thing is <a href="http://bitbucket.org">bitbucket</a>. When I jumped to git, there was nothing like github for mercurial - a good site to collaborate on. Fast forward a year, and bitbucket is up and running, and in my opinion better than github. Wiki's are hg repo's as well, so can be managed locally. It has a nice built in issue tracker, which makes projects more centralized - no more need for lighthouse or the like. And their CNAME setup is better IMHO - I don't need somewhere to host some static pages, that is easy. But having my projects under my domain (<a href="http://hg.lstoll.net">hg.lstoll.net</a>) is a nice touch.

That about does it for now - this is an ongoing experiment, so will see how it goes. But so far, it's looking good.

h2. Installing mercurial on OS X.

If you miss the ssl module, it won't work properly. Plus it's easy to miss the bash completion. So for convenience, here's the command I used to install with macports:

<pre class="brush: bash">
  sudo port install mercurial +bash_completion py25-socket-ssl
</pre>

And my ~/.hgrc, showing the extensions and setup I'm using. There is one useful extension in there that isn't bundled by default - hgkeychain. It stores the http passwords for sites you access in your keychain, which is much safer than having them in the repo in plain text. You can find it <a href="http://bitbucket.org/schwa/hgkeychain/">here</a>

<pre class="brush: plain">
  username = Lincoln Stoll <lstoll@lstoll.net>

  [extensions]
  transplant = 
  hgk = 
  hgext.record = 
  hgext.bookmarks =
  hgext.mq = 
  hgext.convert = 
  hgext.fetch = 
  hgkeychain=

  [hgk]
  path = /opt/local/share/mercurial/contrib/hgk

  [trusted]
  users = root
  groups = hg

  [bookmarks]
  track.current = True
</pre>
